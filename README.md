# Vagrant VM Setup Scripts

[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)

This repository contains a set of Bash scripts to automate the process of setting up and tearing down Vagrant virtual machines for testing purposes. These scripts are designed to help developers quickly create a fresh VM environment to run tests on their code, ensuring a clean and consistent testing setup.

## Table of Contents

- [Prerequisites](#prerequisites)
- [Setup](#setup)
- [Usage](#usage)
  - [Creating a New Vagrant VM](#creating-a-new-vagrant-vm)
  - [Destroying a Vagrant VM](#destroying-a-vagrant-vm)
- [Customization](#customization)
- [Troubleshooting](#troubleshooting)
- [Contributing](#contributing)
- [License](#license)
- [Author](#author)

## Prerequisites

Before using these scripts, ensure that you have the following software installed on your system:

- [Vagrant](https://www.vagrantup.com/downloads): A tool for building and managing virtual machine environments.
- [VirtualBox](https://www.virtualbox.org/wiki/Downloads): A powerful x86 and AMD64/Intel64 virtualization product.

These scripts have been successfully tested on macOS, but they should work on other Unix-like systems as well, provided that the prerequisites are met.

## Setup

1. Clone this repository to your local machine using the following command:

   ```
   git clone https://github.com/inabakumori/vagrant-vm-setup-scripts.git
   ```

2. Open a terminal and navigate to the cloned repository directory:

   ```
   cd vagrant-vm-setup-scripts
   ```

3. Make the Bash scripts executable by running the following command:

   ```
   chmod +x *.sh
   ```

Now you're ready to use the scripts to create and manage your Vagrant VMs!

## Usage

### Creating a New Vagrant VM

1. Run the `vagrantX.sh` script by executing the following command in your terminal:

   ```
   ./vagrantX.sh
   ```

2. When prompted, enter the name of the Vagrant box you want to use. The default value is 'ubuntu/jammy64', but you can use any Vagrant box that suits your needs.

3. Next, enter a name for the project directory where the Vagrant files will be stored. The default value is '$DIR_NAME', but you can choose any meaningful name for your project.

4. Choose an authentication type for the VM, either SSH key or password. The default is SSH key authentication, which is more secure. However, if you prefer using password authentication, you can select that option.

5. If you chose password authentication, you will be prompted to enter a password for the VM. Make sure to choose a strong and secure password.

6. The script will then create the project directory and generate the necessary Vagrantfile based on your inputs. It will also boot up the new VM, which may take a few minutes depending on your system and network speed.

7. Once the VM is up and running, you can SSH into it using the following command:

   ```
   vagrant ssh
   ```

   This will give you access to the fresh VM environment, where you can run your tests and perform any necessary development tasks.

### Destroying a Vagrant VM

1. When you're done working with the VM and want to clean up the resources, run the `vagrantX_destroy.sh` script from the parent directory of your Vagrant project directories:

   ```
   ./vagrantX_destroy.sh
   ```

2. The script will first halt the running VM to gracefully shut it down.

3. Next, it will destroy all the resources that were created by Vagrant for this VM, including the virtual machine itself and any associated configuration files.

4. Finally, the script will remove the project directory, ensuring that no leftover files remain on your system.

5. Confirm that the VM and its associated files have been successfully removed by checking the output of the script.

## Customization

If you want to customize the Vagrant VM configuration further, you can modify the `Vagrantfile` that is generated by the `vagrantX.sh` script. Some common customization options include:

- Adjusting the VM's memory and CPU settings
- Configuring network settings, such as IP addresses and port forwarding
- Provisioning the VM with additional software or configuration files
- Syncing folders between the host machine and the VM

Refer to the [Vagrant documentation](https://www.vagrantup.com/docs) for more information on how to customize your Vagrantfile.

## Troubleshooting

If you encounter any issues while using these scripts, consider the following troubleshooting steps:

1. Ensure that you have the latest versions of Vagrant and VirtualBox installed on your system.
2. Double-check that you have executed the scripts with the necessary permissions, and that the scripts are located in the correct directory.
3. If you encounter any error messages, carefully read the output and refer to the relevant documentation for Vagrant and VirtualBox to understand and resolve the issue.
4. If the VM fails to boot or SSH connection fails, try destroying the VM using the `vagrantX_destroy.sh` script and then recreating it using the `vagrantX.sh` script.
5. If you continue to face issues, consider seeking help from the Vagrant community forums or the official documentation.

## Contributing

If you find any bugs, have feature requests, or want to contribute improvements to these scripts, please feel free to open an issue or submit a pull request on the [GitHub repository](https://github.com/inabakumori/vagrant-vm-setup-scripts). We appreciate your contributions!

## License

This project is licensed under the GNU General Public License v3.0. See the [LICENSE](LICENSE) file for details.

## Author

Created by [inabakumori](https://github.com/inabakumori)

If you have any questions, suggestions, or feedback, please feel free to reach out to the author via GitHub or email.

---

We hope that these Vagrant VM setup scripts help streamline your development and testing workflow. Happy coding!
